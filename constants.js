// Project constants: form field names, labels, colors, event keys, etc.
// TODO: move "magic strings" and other repeated values into this module.

// Colors and branding for PDF / UI
const textColor = "#4E555C" // сірий

const backgroundColor = "#F5E9E3" // колір фону

const lineColor = "#4E555C"; // колір лінії (RGB)

// URL логотипу з Wix
const logoUrl = "https://static.wixstatic.com/media/78e720_9600005edfd645568d6ce218ca8ba5af~mv2.png";

// Напівпрозоре фонове зображення для сторінок PDF (тема догляду/шкіри; використовується на стор. 2, 3)
const backgroundDecorationUrl = "https://static.wixstatic.com/media/78e720_8d2b3ddffa5b432497cee0b152aab3f5~mv2.png";

// Файли шрифтів з репозиторію GitHub
const fontFiles = {
    regular: "https://cosmikispace.github.io/fonts/Montserrat-Regular.ttf",
    bold: "https://cosmikispace.github.io/fonts/Montserrat-Bold.ttf",
    italic: "https://cosmikispace.github.io/fonts/Montserrat-Italic.ttf",
    boldItalic: "https://cosmikispace.github.io/fonts/Montserrat-BoldItalic.ttf",
    light: "https://cosmikispace.github.io/fonts/Montserrat-Light.ttf",
    lightItalic: "https://cosmikispace.github.io/fonts/Montserrat-LightItalic.ttf"
};

// ===== THEORY PAGE PRESETS (Page 2) =====
const THEORY_PAGE_PRESETS = {
    acne: {
        title: "Акне",
        what: "Акне - це хронічне захворювання шкіри, яке виникає в наслідок запалення сальної залози через певні фактори. В результаті виникають: закриті комедони, які згодом запалюються, так як це глибоке запалення шкіри, після висипу залишається постакне пляма або рубець.",
        triggers: "- генетична схильність;\n- гормональний фон;\n- хронічний стрес;\n- харчування (індивідуально).",
        tactics: "- м'який догляд;\n- контроль запалення (лікування);\n- відновлення бар'єру;\n- стабільний та системний догляд",
        duration: "Так як запалення йде з глибоких шарів шкіри, перший крок - усунення запалення - від 2-х до 6-ти місяців. Стабілізація стану - до року та постійна підтримка"
    },
    acneiform: {
        title: "Акнеподібний дерматоз",
        what: "Акнеподібний дерматоз - це хронічний стан шкіри, який виникає в наслідок запалення сальної залози через певні фактори. В результаті виникають: закриті комедони, які згодом запалюються.",
        triggers: "- генетична схильність;\n- гормональний фон;\n- хронічний стрес;\n- харчування (індивідуально).",
        tactics: "- м'який догляд;\n- контроль запалення;\n- відновлення бар'єру;\n- стабільний та системний догляд",
        duration: "Покращення стану від 2-х до 6-ти місяців, надалі постійна підтримка"
    },
    rosacea: {
        title: "Розацеа",
        what: "Розацеа - це хронічний запальний стан шкіри, який проявляється почервонінням, підвищеною чутливістю, судинною сіткою та запальними елементами.",
        triggers: "- генетична схильність;\n- порушення судинної реакції;\n- перепади температури;\n- алкоголь, гостра, гаряча, яскрава їжа;\n- хронічний стрес;\n- агресивний догляд.",
        tactics: "- максимально делікатний догляд;\n- захист бар'єру;\n- протизапальний догляд;\n- уникання тригерів",
        duration: "Помітне покращення - через 4-8 тижнів, підтримка - на постійній основі."
    },
    fungal: {
        title: "Грибкове акне",
        what: "Грибкове акне - це запалення волосяних фолікулів, спричинене надмірним ростом дріжджоподібних грибів Malassezia. Зовні виглядає як однакові дрібні висипи, часто зі свербінням.",
        triggers: "- надмірна вологість і піт;\n- відсутність ліпідів;\n- використання важких або жирних текстур;\n- порушення мікробіому шкіри;\n- ослаблений шкірний бар'єр;\n- хронічний стрес.",
        tactics: "- спеціалізовані протигрибкові засоби;\n- уникання продуктів, які \"живлять\" грибок;\n- легкі текстури;\n- підтримка балансу мікрофлори",
        duration: "Перші результати - 1-3 тижні, стабілізація - 4-6 тижнів, з подальшою профілактикою."
    },
    barrier: {
        title: "Порушення бар'єру",
        what: "Порушення бар'єру - це стан, коли захисна функція шкіри ослаблена. Шкіра втрачає вологу, стає вразливою до подразників і запалень.",
        triggers: "- часте використання кислот, ретиноїдів;\n- відсутність зволоження;\n- кліматичні фактори;\n- хронічний стрес",
        tactics: "- нульова терапія;\n- мінімізація догляду;\n- відновлення ліпідів і вологи;\n- поступове повернення активів",
        duration: "Відновлення бар'єру займає від 2-х до 4-х тижнів."
    }
};

// ===== ACTIVE PAGE PRESETS (опціональна сторінка "Актив") =====
const ACTIVE_PAGE_PRESETS = {
    acids: {
        title: "Кислоти",
        block1: "Кислоти - це активи, які допомагають м'яко відлущувати відмерлі клітини шкіри, очищати пори, зменшувати запалення та вирівнювати текстуру і тон шкіри. Вони покращують оновлення клітин.",
        block2: "- наносити на очищену, суху шкіру;\n- кількість - декілька крапель або тонкий шар;\n- уникати зони навколо очей і губ.",
        block3: "- легке пощипування або поколювання;\n- почервоніння;\n- відчуття сухості або стягнутості.\n\nЦі реакції є нормальними на етапі адаптації. При вираженому подразненні звертайся до косметолога"
    },
    retinoids: {
        title: "Ретиноїди",
        block1: "Ретиноїди - впливають на глибші шари шкіри: регулюють процес оновлення клітин, зменшують запалення, нормалізують роботу сальних залоз. Мають високий потенціал до подразнення, тому вводити препарат будемо поступово.",
        block2: "- використовувати ввечері;\n- наносити на супер суху шкіру після очищення;\n- кількість - горошина на все обличчя\n- починати з 1-го разу на 4 дні (надалі збільшимо);",
        block3: "- пощипування або поколювання;\n- почервоніння;\n- відчуття сухості або стягнутості;\n- підвищена чутливість.\n\nЦе очікувані реакції адаптації шкіри. Вони зазвичай зменшуються протягом кількох тижнів."
    },
    retinol: {
        title: "Косметичний ретинол",
        block1: "Косметичний ретинол - це м'якша форма вітаміну А, призначена для поступового покращення стану шкіри. Він допомагає вирівняти тон, зменшити запалення та підтримувати здоровий вигляд шкіри без агресивного впливу.",
        block2: "- використовувати ввечері;\n- наносити на суху шкіру;\n- кількість - горошина або тонкий шар.",
        block3: "- легка сухість;\n- незначне почервоніння;\n- тимчасова чутливість.\n\nЗазвичай реакції мінімальні та швидко минають."
    }
};

// ===== TRIGGER PAGES (Рекомендації по тригерам) — порядок: Стрес, СПКЯ, Менструація, Вплив їжі, Генетика =====
const TRIGGER_PAGES = [
    {
        key: "stress",
        formLabel: "Стрес",
        pageTitle: "Рекомендації: як стрес впливає на стан шкіри",
        sections: [
            { title: "", body: "Стан шкіри формується під впливом внутрішніх і зовнішніх факторів. Вони можуть змінювати роботу сальних залоз, швидкість оновлення клітин, рівень зволоження та здатність шкіри до відновлення. Навіть при правильному догляді деякі тригери можуть тимчасово погіршувати стан шкіри." },
            { title: "Як стрес може впливати на стан шкіри?", body: "Під час стресу в організмі підвищується рівень кортизолу. Цей гормон впливає на роботу сальних залоз, знижує захисні функції шкіри та уповільнює процеси відновлення." },
            { title: "Рекомендації:", body: "- дотримуватися режиму сну та відпочинку;\n- зменшувати вплив хронічного стресу (хобі, медитація, спорт)." },
            { title: "Цікавий факт про стрес і шкіру", body: "Шкіра має власну «стрес-систему», подібну до тієї, що працює в мозку. Під час стресу клітини шкіри самі виробляють кортизол і запальні медіатори. Через це шкіра стає більш чутливою, повільніше відновлюється та сильніше реагує навіть на звичні засоби догляду.\nСаме тому в періоді тривалого стресу шкіра може виглядати тьмяною, сухішою або, навпаки, більш жирною — навіть без змін у догляді." },
            { title: "Висновок:", body: "Турбота про нервову систему — це частина турботи про шкіру." }
        ]
    },
    {
        key: "pcos",
        formLabel: "СПКЯ",
        pageTitle: "Рекомендації: як СПКЯ впливає на стан шкіри",
        sections: [
            { title: "", body: "Стан шкіри формується під впливом внутрішніх і зовнішніх факторів. Вони можуть змінювати роботу сальних залоз, швидкість оновлення клітин, рівень зволоження та здатність шкіри до відновлення. Навіть при правильному догляді деякі тригери можуть тимчасово погіршувати стан шкіри." },
            { title: "Як СПКЯ впливає на стан шкіри?", body: "При синдромі полікістозних яєчників (СПКЯ) в організмі часто підвищується рівень андрогенів — гормонів, які стимулюють активність сальних залоз. У результаті шкіра може виробляти більше себуму, швидше втрачати баланс і довше відновлюватися після запальних процесів.\nТакож СПКЯ часто супроводжується інсулінорезистентністю. Підвищений рівень інсуліну впливає на гормональну регуляцію та може посилювати роботу сальних залоз і запальні реакції в шкірі.\nЧерез ці механізми стан шкіри при СПКЯ зазвичай має хвилеподібний характер: періоди покращення можуть змінюватися загостреннями навіть без видимих зовнішніх причин." },
            { title: "Що важливо розуміти:", body: "Косметологічний догляд допомагає покращити стан шкіри, але для стабільного результату потрібен комплексний підхід разом з гінекологом (ендокринологом)." }
        ]
    },
    {
        key: "menstruation",
        formLabel: "Менструація",
        pageTitle: "Рекомендації: менструальний цикл і стан шкіри",
        sections: [
            { title: "", body: "Стан шкіри формується під впливом внутрішніх і зовнішніх факторів. Вони можуть змінювати роботу сальних залоз, швидкість оновлення клітин, рівень зволоження та здатність шкіри до відновлення. Навіть при правильному догляді деякі тригери можуть тимчасово погіршувати стан шкіри." },
            { title: "Як менструація впливає на стан шкіри?", body: "Стан шкіри змінюється протягом менструального циклу через коливання гормонів — естрогену та прогестерону. Ці зміни є фізіологічними і не залежать від догляду." },
            { title: "Як саме цикл впливає на шкіру?", body: "- перша фаза циклу (після менструації):\nРівень естрогену поступово зростає. Шкіра зазвичай виглядає більш зволоженою, рівною, швидше відновлюється та краще реагує на догляд і процедури.\n- друга фаза циклу (перед менструацією):\nПідвищується рівень прогестерону, що може стимулювати роботу сальних залоз. Шкіра стає більш жирною, чутливою, можуть з'являтися локальні зміни або відчуття дискомфорту." },
            { title: "Рекомендації:", body: "- не ексерементуй з доглядом в кожну фазу циклу;\n- якщо під час менструації відчуваєш фізичний дискомфорт, дозволь собі пропкстити вечірню рутину, а замість неї зроби тканеву заспокійливу маску самопідтримка важливий ресурс." },
            { title: "Важливо:", body: "Тимчасові зміни стану шкіри, пов'язані з циклом, є нормою і не потребують різких корекцій у догляді." }
        ]
    },
    {
        key: "food",
        formLabel: "Вплив їжі",
        pageTitle: "Рекомендації: вплив харчування на стан шкіри",
        sections: [
            { title: "", body: "Не існує єдиної думки, яка б дала чітку, гарантовану відповідь на питання як впливає їжа на стан шкіри, все дуже індивідуально та залежить від багатьох факторів, але, є певні доказові моменти, які допоможуть підтримати шкіру та організм вцілому:\n- має бути 2-3 повноцінних прийому їжі, бажано в один і той же час;\n- молочні та кисломолочні продукти обмежити (дозволяється до 3-х чашок кави на звичайному молоці на день);\n- промислові солодощі та глютен мінімізуємо (дозволяється після основного прийому їжі);\n- обмежуй вживання: соуси, консерви, фастфуд, їжу з кірочками (більше тушіння замість смаження);\n- намагайся дотримуватися правила: 40% свіжі сирі овочі на тарілці;\n- вживати достатню кількість води 1,2/2 літри." },
            { title: "Вплив певних продуктів на шкіру:", body: "- квашена капуста (без цукру) покращує мікробом шкіри, додавати до раціону 2-3 рази на тиждень;\n- лактоза не впливає на шкіру, але фермент лактоза може (цей фермент є і в безлактозному молоці) якщо помічаєш вплив молока на шкіру прибирай повністю;\n- банани та виноград мають високий глікемічний індекс тому, бажано ці продукти мінімізувати." },
            { title: "", body: "Їжа впливає на самопочуття та настій, важливо не обмежувати себе, а контролювати те, що вживаємо." }
        ]
    },
    {
        key: "genetics",
        formLabel: "Генетика",
        pageTitle: "Рекомендації: вплив генетики на стан шкіри",
        sections: [
            { title: "", body: "Стан шкіри формується під впливом внутрішніх і зовнішніх факторів. Вони можуть змінювати роботу сальних залоз, швидкість оновлення клітин, рівень зволоження та здатність шкіри до відновлення. Навіть при правильному догляді деякі тригери можуть тимчасово погіршувати стан шкіри." },
            { title: "На що впливає генетика?", body: "- генетично закладена жирність або сухість шкіри визначає базову роботу себуму та здатність шкіри утримувати воду.\n- генетичні фактори можуть робити шкіру більш чутливою до зовнішніх подразників або активних компонентів догляду.\n- схильність до запалень: шкіра генетично схильна до більш активної імунної реакції, що може проявлятися появою висипів або подразнень навіть при мінімальних зовнішніх стимулах." },
            { title: "Що важливо розуміти:", body: "- генетична схильність не є вироком: правильний догляд і регулярний контроль стану шкіри значно покращують її стан.\n- схильність проявляється особливо при наявності додаткових факторів: гормональні зміни, стрес, неправильний догляд або харчування.\n- робота з косметологом допомагає створити індивідуальний догляд, що враховує природні особливості шкіри, а не лише усуває видимі симптоми." },
            { title: "Рекомендації:", body: "- приймати індивідуальні особливості шкіри;\n- будувати довгострокову стратегію догляду, а не шукати «швидкі» рішення;\n- поєднувати підтримуючий догляд із профілактичними процедурами." }
        ]
    }
];

// ===== CALENDAR CONFIG =====
const CALENDAR_MAX_DAYS = 42;
const WEEK_START = 1; // 1 = Monday

const EVENT_TYPES = [
    {
        key: "consultation",
        label: "Зустріч",
        defaultLegend: "Очна консультація з косметологом.",
        defaultColor: "rgba(244,183,166,0.35)"
    },
    {
        key: "active",
        label: "Актив",
        defaultLegend: "Використання активного препарату згідно рекомендацій.",
        defaultColor: "rgba(251,230,186,0.4)"
    },
    {
        key: "procedure",
        label: "Процедура",
        defaultLegend: "Косметологічна процедура.",
        defaultColor: "rgba(244,183,166,0.35)"
    },
    {
        key: "support",
        label: "Підтримка",
        defaultLegend: "Період підтримуючого догляду.",
        defaultColor: "rgba(224,224,226,0.45)"
    },
    {
        key: "zero_therapy",
        label: "0-терапія",
        defaultLegend: "0-терапія (відновлення барʼєру / базовий догляд).",
        defaultColor: "rgba(245,233,227,0.55)"
    },
    {
        key: "body",
        label: "Тіло",
        defaultLegend: "Догляд за тілом.",
        defaultColor: "rgba(233,201,184,0.35)"
    },
    {
        key: "recovery",
        label: "Відновлення",
        defaultLegend: "Період відновлення.",
        defaultColor: "rgba(241,242,230,0.55)"
    }
];

const CALENDAR_COLORS = [
    {key: "c1", label: "Персиковий", value: "rgba(244,183,166,0.35)"},
    {key: "c2", label: "Ваніль", value: "rgba(251,230,186,0.4)"},
    {key: "c3", label: "Нейтральний", value: "rgba(224,224,226,0.45)"},
    {key: "c4", label: "Пудровий", value: "rgba(245,233,227,0.55)"},
    {key: "c5", label: "Бежевий", value: "rgba(233,201,184,0.35)"},
    {key: "c6", label: "Кремовий", value: "rgba(241,242,230,0.55)"}
];

// ===== CALENDAR STATE =====
const calendarState = {
    startDate: null,
    daysCount: CALENDAR_MAX_DAYS,
    createdAt: new Date(),
    events: []
};

// Expose constants to the global scope for existing HTML/JS to use
window.textColor = textColor;
window.backgroundColor = backgroundColor;
window.lineColor = lineColor;
window.logoUrl = logoUrl;
window.fontFiles = fontFiles;

window.THEORY_PAGE_PRESETS = THEORY_PAGE_PRESETS;
window.ACTIVE_PAGE_PRESETS = ACTIVE_PAGE_PRESETS;
window.TRIGGER_PAGES = TRIGGER_PAGES;

window.CALENDAR_MAX_DAYS = CALENDAR_MAX_DAYS;
window.WEEK_START = WEEK_START;
window.EVENT_TYPES = EVENT_TYPES;
window.CALENDAR_COLORS = CALENDAR_COLORS;
window.calendarState = calendarState;

